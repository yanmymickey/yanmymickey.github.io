---
title: 虚拟机挂起无法恢复
date: 2020-01-16
tags: [Note]
categories:
- [Note]
comments: false
---
# 虚拟机挂起无法恢复

## 挂起

vmware 支持几种工作状态:关机，挂起，重新启动

**挂起**：下次打开虚拟机会还原到挂起时虚拟机的状态
<!-- more -->

## 如何做到？

为了保存挂起时虚拟机状态，会在虚拟机文件夹创建一个vmess后缀的文件， 这个文件记录了虚拟机挂起状态

## 关于强制关闭vmware

由于卡住或其他异常原因强制关闭vmware，再次开启会显示被锁住无法打开

**原因：**因为一个虚拟机打开，避免重复开启同一虚拟机，会创建几个lck文件夹将这个虚拟机锁住，而强制退出会导致虚拟机来不及删除这几个文件夹，下次再打开，导致读取到lck文件夹，被锁住无法打开。

## 解决办法

删除vmess文件和所有lck文件夹

**结果：**会丢失保存的虚拟机状态，虚拟机重新开机

## 注意

- 如果出现程序占用无法删除的情况，可以找到占用程序关闭后再删除
- 这样会导致再次打开虚拟机出现正在等待连接，因为占用程序被关闭了
- 重启或者找到占用程序再次开启就好了